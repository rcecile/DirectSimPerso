PRO error_distrib

loadct,39
!p.charsize=2
!p.thick=3
lcol  = [0,80, 150, 240, 210]

dir='/sps/lsst/data/rcecile/TJP_BAO/'

suff=["_err0.03","_errP","_errPpodds"]
nsuff = n_elements(suff)

hmin=-1
hmax=1
hbin=0.01
x=findgen((hmax-hmin)/hbin+1)*hbin+hmin
nx=n_elements(x)
hh=dblarr(n_elements(x),nsuff)

plot,[0,3],[1,1e4],/xs,/ys,ytit='Nb of galaxies beyond 0.03*(1+z_s)',xtit='Redshift',xra=[0.1,2.65],yra=[0,1],/nodata
for is=0,nsuff-1 do begin

   for i=10,60,10 do begin
      name=dir+"cat_G2_Slice"strtrim(i,2)+suff[is]+".fits"
      m=mrdfits(name,1)
      h=histogram((m.(6)-m.(3))/m.(3),min=hmin,max=hmax,bin=hbin)
      h = h/h[nx/2+1]
      oplot,x,h
      
      read,xx
   endfor
   

endfor

plot,[0,3],[1,1e4],/xs,/ys,ytit='Nb of galaxies beyond 0.03*(1+z_s)',xtit='Redshift',xra=[0.1,2.65],yra=[1e2,max(hh)*1.1],/yl,/nodata
for is=0,nsuff-1 do oplot,x,hh[*,is],col=lcol[is]

END
